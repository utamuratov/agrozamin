<form [formGroup]="form">
  <div class="inline-card media">
    <div nz-row [nzGutter]="[0, {xs: 10, sm: 15, md: 20, xl: 24}]">
      <div nz-col nzSpan="24">
        <h3 class="add-title">{{ "addingVideoAndPhoto" | translate }}</h3>
      </div>
      <div nz-col nzSpan="24">
        <div nz-row [nzGutter]="[0, {xs: 20, sm: 20, md: 20, lg: 20, xl: 24}]">
          <div nz-col nzSpan="24">
            <div class="media__video">
              <div nz-col nzXs="24" nzSm="16" md="12">
                <span class="add-subtitle">{{
                  "addingVideo" | translate
                }}</span>
                <youtube-player
                  *ngIf="videoId"
                  [videoId]="videoId"
                  [height]="300"
                  [width]="400"
                ></youtube-player>
                <nz-form-control [nzSpan]="24">
                  <nz-input-group [nzPrefix]="prefix" nzSize="large">
                    <input
                      nz-input
                      type="text"
                      id="videoUrl"
                      placeholder="{{ 'addUrl' | translate }}"
                      formControlName="video_url"
                      (input)="inputVideChange($event)"
                    />
                  </nz-input-group>
                  <ng-template #prefix>
                    <i nz-icon nzType="youtube" class="youtube"></i>
                  </ng-template>
                </nz-form-control>
                <!-- TODO: REMOVE -->
                <!-- <div
                class="media__video__upload"
                (click)="isVisibleVideoModal = true"
                >
                <i nz-icon nzType="plus" nzTheme="outline"></i>
                <p>Вставить ссылку</p>
              </div> -->
              </div>
            </div>
          </div>
          <div nz-col nzXs="24" nzSm="24" nzMd="16" nzLg="12" nzXl="12">
            <div class="media__image">
              <span class="add-subtitle">{{ "addPhoto" | translate }}</span>
              <div class="media__image__upload">
                <div nz-row [nzGutter]="[8, 8]">
                  <!-- UPLOADED FILES -->
                  <div
                    nz-col
                    *ngFor="let image of uploadedFiles; let i = index"
                  >
                    <div class="media__image__card">
                      <img [src]="image.src" alt="uploaded image" />
                      <div class="media__image__card__position">
                        <div class="media__image__card__layer">
                          <div
                            nz-row
                            nzJustify="center"
                            nzAlign="middle"
                            [nzGutter]="[8, 0]"
                          >
                            <div nz-col class="btn" (click)="viewImage(image)">
                              <i nz-icon nzType="eye" nzTheme="outline"></i>
                            </div>
                            <div
                              nz-col
                              class="btn"
                              (click)="deleteImage(i, image)"
                            >
                              <i nz-icon nzType="delete" nzTheme="outline"></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- NOT UPLOADED YET -->
                  <div nz-col *ngFor="let image of imagesSrc; let i = index">
                    <div class="media__image__card">
                      <img [src]="image.src" alt="uploaded image" />
                      <div class="media__image__card__position">
                        <div class="media__image__card__layer">
                          <div
                            nz-row
                            nzJustify="center"
                            nzAlign="middle"
                            [nzGutter]="[8, 0]"
                          >
                            <div nz-col class="btn" (click)="viewImage(image)">
                              <i nz-icon nzType="eye" nzTheme="outline"></i>
                            </div>
                            <div nz-col class="btn" (click)="deleteImage(i)">
                              <i nz-icon nzType="delete" nzTheme="outline"></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div nz-col *ngIf="showUploadButton">
                    <div class="media__image__upload-btn">
                      <div class="upload" (click)="uploadImage.click()">
                        <input
                          hidden
                          #uploadImage
                          type="file"
                          (change)="handleImagesInput($event)"
                          multiple="false"
                        />
                        <ng-container>
                          <div nz-row>
                            <div nz-col nzSpan="24">
                              <i
                                class="upload-icon"
                                nz-icon
                                [nzType]="'plus'"
                              ></i>
                            </div>
                            <div nz-col nzSpan="24">
                              <div class="ant-upload-text">
                                {{ "upload" | translate }}
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
