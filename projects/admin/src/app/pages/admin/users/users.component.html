<!-- HEADER -->
<nz-divider [nzText]="divider" nzOrientation="left" class="position-relative">
  <ng-template #divider>
    <div class="divider__left">
      <div>
        {{ "users" | translate }}
        {{ filteredData.length === 0 ? "" : "(" + filteredData.length + ")" }}
      </div>
    </div>
    <div class="divider__right">
      <nz-input-group nzCompact>
        <nz-select name="searchBy" [(ngModel)]="searchBy" style="width: 200px">
          <nz-option nzValue="id" nzLabel="Id"></nz-option>
          <nz-option nzValue="login" nzLabel="Логин"></nz-option>
          <nz-option nzValue="name" nzLabel="Имя"></nz-option>
        </nz-select>
        <div class="divider__right__search">
          <nz-input-group [nzSuffix]="suffixIconSearch">
            <input
              [(ngModel)]="searchText"
              type="text"
              (input)="search(searchText)"
              nz-input
              placeholder="input search text"
            />
          </nz-input-group>
          <ng-template #suffixIconSearch>
            <a
              *ngIf="searchText.length > 0; else searchIcon"
              (click)="search('')"
            >
              <i nz-icon nzType="close"></i>
            </a>
            <ng-template #searchIcon>
              <i nz-icon nzType="search"></i
            ></ng-template>
          </ng-template>
        </div>
      </nz-input-group>

      <button (click)="addEdit(modal)" nz-button nzType="primary" class="ml-1">
        {{ "add" | translate }}
      </button>
    </div>
  </ng-template>
</nz-divider>

<!-- BODY -->
<div class="mt-2">
  <nz-table
    #groupingTable
    [nzData]="filteredData"
    nzBordered
    nzSize="middle"
    [nzScroll]="{ y: '270px' }"
  >
    <thead>
      <tr>
        <th nzAlign="center" nzWidth="50px" [nzSortFn]="sortFnId">Id</th>
        <th nzAlign="center" nzWidth="100px">Логин</th>
        <th nzAlign="center" nzWidth="100px" [nzSortFn]="sortFnName">Имя</th>
        <th nzAlign="center" nzWidth="200px">Коментарий</th>
        <th nzAlign="center" nzWidth="90px">Последняя авторизация</th>
        <th nzAlign="center" nzWidth="90px">состаяние пользователя</th>
        <th nzAlign="center" nzWidth="90px">
          требовать установки нового пароля
        </th>
        <th nzAlign="center" nzWidth="150px">Действие</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of groupingTable.data">
        <td nzEllipsis>{{ data.id }}</td>
        <td>{{ data.login }}</td>
        <td>{{ data.name }}</td>
        <td>{{ data.building }}</td>
        <td>{{ data.number }}</td>
        <td>
          <nz-switch [(ngModel)]="switchValue"></nz-switch>
        </td>
        <td>
          <nz-switch [(ngModel)]="switchValue1"></nz-switch>
        </td>
        <td nzAlign="center">
          <button style="margin-right: 5px" nz-button nzType="primary">
            <i nz-icon nzType="download"></i>
          </button>
          <button style="margin-right: 5px" nz-button nzType="primary">
            <i nz-icon nzType="download"></i>
          </button>
          <button nz-button nzType="primary">
            <i nz-icon nzType="download"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </nz-table>
</div>

<az-add-edit-user #modal> </az-add-edit-user>
