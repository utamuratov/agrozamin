<div nz-row>
  <div nz-col nzSpan="24">
    <div style="display: inline-block; min-width: 450px">
      <form (submit)="search()">
        <nz-input-group>
          <nz-select
            name="searchBy"
            [(ngModel)]="searchBy"
            style="width: 200px"
          >
            <nz-option nzValue="id" nzLabel="ID"></nz-option>
            <nz-option nzValue="login" nzLabel="Login"></nz-option>
            <nz-option nzValue="name" nzLabel="Name"></nz-option>
          </nz-select>

          <nz-input-group
            style="width: 200px; margin-top: 2px"
            [nzSuffix]="suffixIconSearch"
          >
            <nz-autocomplete
              [nzDataSource]="filteredOptions"
              #auto
            ></nz-autocomplete>
            <input
              [nzAutocomplete]="auto"
              name="searchText"
              (ngModelChange)="changeInput($event)"
              [(ngModel)]="searchText"
              type="text"
              nz-input
              placeholder="input search text"
            />
          </nz-input-group>

          <ng-template #suffixIconSearch>
            <i nz-icon nzType="search"></i>
          </ng-template>
          <button nz-button nzType="primary">ok</button>
        </nz-input-group>
      </form>
    </div>

    <button
      (click)="showModal()"
      style="float: right; margin-right: 5px"
      nz-button
      nzType="primary"
      [nzSize]="size"
    >
      Add
    </button>
  </div>

  <div nz-col nzSpan="24">
    <nz-divider></nz-divider>
  </div>

  <div nz-col nzSpan="24">
    <nz-table
      #headerTable
      [nzData]="filteredData"
      [nzPageSize]="50"
      [nzScroll]="{ y: '300px' }"
    >
      <thead>
        <tr>
          <th nzWidth="60px"></th>
          <th nzWidth="60px">id</th>
          <th nzWidth="250px" nzAlign="center">Name</th>
          <th nzAlign="center">Description</th>
          <!-- <th>Address</th> -->
          <th nzWidth="125px" nzAlign="center">Change</th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let data of headerTable.data">
          <tr>
            <td
              [nzExpand]="expandSet.has(data.id)"
              (nzExpandChange)="onExpandChange(data.id, $event)"
            ></td>
            <td nzAlign="center">{{ data.id }}</td>
            <td nzAlign="center">{{ data.name }}</td>
            <td nzAlign="center">{{ data.address }}</td>
            <td nzAlign="center" nzWidth="85px">
              <button
                (click)="showModal()"
                style="margin-right: 5px"
                nz-button
                nzType="primary"
                [nzSize]="size"
              >
                ok
              </button>
            </td>
          </tr>
          <tr [nzExpand]="expandSet.has(data.id)">
            <span>{{ data.description }}</span>
          </tr>
        </ng-container>
      </tbody>
    </nz-table>
  </div>
</div>

<nz-modal
  [(nzVisible)]="isVisible"
  [(nzVisible)]="isVisible"
  nzTitle="Modal Title"
  (nzOnCancel)="handleCancel()"
  (nzOnOk)="handleOk()"
  [nzOkLoading]="isOkLoading"
>
  <p *nzModalContent>Modal Content</p>
</nz-modal>
