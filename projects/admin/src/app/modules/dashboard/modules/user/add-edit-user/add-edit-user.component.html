<nz-modal
  [(nzVisible)]="isVisible"
  [nzTitle]="(editingData?.id ? 'edit' : 'add') | translate"
  (nzOnCancel)="close()"
  modal
>
  <div *nzModalContent>
    <form [formGroup]="form" nz-form nzLayout="vertical">
      <div class="overflow-auto max-height">
        <!-- LOGIN -->
        <nz-form-item>
          <nz-form-label nzFor="login">{{ "login" | translate }}</nz-form-label>
          <nz-form-control [nzErrorTip]="error">
            <input
              nz-input
              id="login"
              formControlName="login"
              name="login"
              type="text"
            />
          </nz-form-control>
          <ng-template #error let-control>
            <error [control]="control"></error>
          </ng-template>
        </nz-form-item>

        <!-- FIRST NAME -->
        <nz-form-item>
          <nz-form-label nzFor="firstName">{{
            "firstName" | translate
          }}</nz-form-label>
          <nz-form-control [nzErrorTip]="error">
            <input
              nz-input
              id="firstName"
              formControlName="f_name"
              name="firstName"
              type="text"
            />
          </nz-form-control>
          <ng-template #error let-control>
            <error [control]="control"></error>
          </ng-template>
        </nz-form-item>

        <!-- LAST NAME -->
        <nz-form-item>
          <nz-form-label nzFor="lastName">{{
            "lastName" | translate
          }}</nz-form-label>
          <nz-form-control [nzErrorTip]="error">
            <input
              nz-input
              id="lastName"
              formControlName="l_name"
              name="lastName"
              type="text"
            />
          </nz-form-control>
          <ng-template #error let-control>
            <error [control]="control"></error>
          </ng-template>
        </nz-form-item>

        <!-- PHONE -->
        <nz-form-item>
          <nz-form-label nzFor="phone">{{ "phone" | translate }}</nz-form-label>
          <nz-form-control [nzErrorTip]="error">
            <input
              nz-input
              id="phone"
              formControlName="phone"
              mask="00 000 00 00"
              prefix="+998 "
              name="phone"
              type="text"
            />
          </nz-form-control>
          <ng-template #error let-control>
            <error [control]="control"></error>
          </ng-template>
        </nz-form-item>

        <nz-form-item *ngIf="isAdminUsers">
          <nz-form-label nzFor="role">{{ "role" | translate }}</nz-form-label>
          <nz-form-control [nzErrorTip]="errorActions">
            <nz-select
              id="role"
              formControlName="role"
              [nzCustomTemplate]="multipleTemplate"
            >
              <nz-option
                *ngFor="let role of role$ | async"
                [nzLabel]="role.description"
                [nzValue]="role.id"
              >
              </nz-option>
            </nz-select>
            <ng-template #multipleTemplate let-selected>
              <div class="ant-select-selection-item-content">
                {{ selected.nzLabel }}
              </div>
            </ng-template>
          </nz-form-control>
          <ng-template #errorActions let-control>
            <error [control]="control"></error>
          </ng-template>
        </nz-form-item>

        <nz-form-item>
          <nz-form-label nzFor="text">{{
            "commentary" | translate
          }}</nz-form-label>
          <nz-form-control [nzErrorTip]="error">
            <textarea
              rows="2"
              nz-input
              formControlName="description"
              type="text"
            ></textarea>
          </nz-form-control>
          <ng-template #error let-control>
            <error [control]="control"></error>
          </ng-template>
        </nz-form-item>
      </div>
    </form>
  </div>
  <div *nzModalFooter>
    <button (click)="submit()" nz-button nzType="primary">
      {{ "save" | translate }}
    </button>
  </div>
</nz-modal>
