<div class="product">
  <div class="container">
    <div nz-row class="product__bradcrumb">
      <div nz-col nzXs="0" nzSm="0" nzMd="0" nzLg="0" nzXl="24">
        <nz-breadcrumb>
          <nz-breadcrumb-item>Главная</nz-breadcrumb-item>
          <nz-breadcrumb-item>
            <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu">
              Каталог
              <i nz-icon nzType="down"></i>
            </a>
          </nz-breadcrumb-item>
          <nz-breadcrumb-item>
            <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu">
              Сельхозтехника
              <i nz-icon nzType="down"></i>
            </a>
          </nz-breadcrumb-item>
          <nz-breadcrumb-item>
            <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu">
              Техника для растениеводства
              <i nz-icon nzType="down"></i>
            </a>
          </nz-breadcrumb-item>
          <nz-breadcrumb-item>
            <a> Прочая уборочная техника </a>
          </nz-breadcrumb-item>
        </nz-breadcrumb>
      </div>
      <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="0">
        <nz-select ngModel="Сельхозтехника" nzBorderless>
          <nz-option
            nzValue="Сельхозтехника"
            nzLabel="Сельхозтехника"
          ></nz-option>
          <nz-option nzValue="Техника" nzLabel="Техника"></nz-option>
          <nz-option
            nzValue="Техника для растениеводства"
            nzLabel="Техника для растениеводства"
          ></nz-option>
          <nz-option
            nzValue="Техника для животноводства"
            nzLabel="Техника для животноводства"
          ></nz-option>
        </nz-select>
      </div>
    </div>

    <div nz-row [nzGutter]="[0, 50]">
      <div nz-col nzSpan="24">
        <div nz-row [nzGutter]="[30, {xs: 30, sm: 40, md: 40, lg: 0, xl: 0}]">
          <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="12" nzXl="12">
            <div nz-row [nzGutter]="[0, 16]">
              <div nz-col nzSpan="24">
                <div class="product__img">
                  <button
                    nz-button
                    nzType="default"
                    nzSize="large"
                    class="product__img__left product__img__btn"
                    nzShape="circle"
                    (click)="pre(slider)"
                  >
                    <i nz-icon nzType="left" nzTheme="outline"></i>
                  </button>
                  <nz-carousel
                    [nzEffect]="'fade'"
                    [nzDots]="false"
                    #slider
                    (nzAfterChange)="handleActiveSlide($event)"
                  >
                    <div
                      nz-carousel-content
                      *ngFor="let file of data.files; let idx = index"
                    >
                      <img [src]="file.file" alt="image" />
                    </div>
                  </nz-carousel>
                  <button
                    nz-button
                    nzType="default"
                    nzSize="large"
                    class="product__img__right product__img__btn"
                    nzShape="circle"
                    (click)="next(slider)"
                  >
                    <i nz-icon nzType="right" nzTheme="outline"></i>
                  </button>
                </div>
              </div>
              <div nz-col nzSpan="24">
                <div
                  nz-row
                  nzJustify="space-between"
                  [nzGutter]="[0, {xs: 0, sm: 0, md: 20, lg: 8, xl: 8}]"
                >
                  <div
                    nz-col
                    class="carousel__subcard-img"
                    *ngFor="let file of data.files; let idx = index"
                  >
                    <div class="product__img__list">
                      <img
                        [src]="file.file"
                        [ngClass]="activeSlide === idx ? 'active' : ''"
                        (click)="getIndex(idx, slider)"
                        alt="card img"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="12" nzXl="12">
            <div class="product__info">
              <div class="product__info__text">
                <div nz-row [nzGutter]="[0, 12]">
                  <div nz-col nzSpan="24">
                    <div nz-row [nzGutter]="[20, 0]" nzJustify="space-between">
                      <div nz-col>
                        <h6 class="product__info__type">Продаю</h6>
                      </div>
                      <div nz-col>
                        <p class="product__info__cat-info">
                          <span>ID номер</span> {{data.id}}
                        </p>
                      </div>
                    </div>
                  </div>
                  <div nz-col nzSpan="24">
                    <h1 nz-typography class="product__info__title">
                      {{data.name}}
                    </h1>
                  </div>
                  <div nz-col nzSpan="24">
                    <div nz-row nzAlign="middle" [nzGutter]="[16, 0]">
                      <div nz-col>
                        <span nz-typography class="product__info__price"
                          >{{data.price | azCurrency}}</span
                        >
                      </div>
                      <div nz-col>
                        <span
                          nz-typography
                          class="product__info__subprice"
                          *ngIf="data.deal"
                          >Есть торг</span
                        >
                      </div>
                    </div>
                  </div>

                  <div nz-col nzSpan="24">
                    <az-tag
                      [title]="data.category.name"
                      [category_id]="data.category_id"
                    ></az-tag>
                  </div>
                </div>
              </div>
              <div class="product__info__contacts">
                <div nz-row [nzGutter]="[0, 24]">
                  <div nz-col nzSpan="24">
                    <div nz-row [nzGutter]="[16, {xs: 10, sm: 0}]">
                      <div nz-col nzXs="24" nzSm="7" nzMd="6" nzLg="8" nzXl="6">
                        <button
                          nz-button
                          nzType="default"
                          nzSize="large"
                          class="product__info__contacts__btn message-btn"
                          nzBlock
                        >
                          <img
                            src="./assets/images/message.svg"
                            alt="phone icon"
                          /><span>Сообщение</span>
                        </button>
                      </div>

                      <div nz-col nzXs="24" nzSm="7" nzMd="6" nzLg="8" nzXl="6">
                        <button
                          nz-button
                          nzType="primary"
                          nzSize="large"
                          class="product__info__contacts__btn"
                          nzBlock
                        >
                          <img
                            src="./assets/images/phone.svg"
                            alt="phone icon"
                          /><span>Позвонить</span>
                        </button>
                      </div>
                    </div>
                  </div>

                  <div nz-col nzSpan="24">
                    <div nz-row nzAlign="middle" [nzGutter]="[16, 8]">
                      <div nz-col nzSpan="24">
                        <div class="contact-person">
                          <img
                            src="./assets/images/contact-person.svg"
                            alt="icon"
                            class="contact-person__img"
                          />
                          <span class="contact-person__text"
                            >Контактное лицо:</span
                          >
                          <span class="contact-person__name"
                            >{{data.contact.full_name}}</span
                          >
                        </div>
                      </div>

                      <div nz-col nzSpan="24">
                        <div class="contact-person">
                          <img
                            src="./assets/images/contact-icon.svg"
                            alt="icon"
                            class="contact-person__img"
                          />
                          <span class="contact-person__text">Продавец:</span>
                          <a class="contact-person__name"
                            >{{data.created_by.full_name}}</a
                          >
                          <span
                            class="contact-person__status"
                            *ngIf="data.user_is_online"
                          >
                            <span class="online"></span>
                            <span class="contact-person__status__text"
                              >Сейчас онлайн</span
                            >
                            <span class="contact-person__status__text_modify"
                              >Онлайн</span
                            >
                          </span>
                        </div>
                      </div>

                      <div nz-col nzSpan="24">
                        <p class="address-text">
                          <img
                            src="./assets/images/location__icon.svg"
                            alt="icon"
                          /><span
                            >{{[data.district, data.region].join(', ')}}</span
                          >
                        </p>
                      </div>
                    </div>
                  </div>
                  <div nz-col nzSpan="24">
                    <div nz-row [nzGutter]="[24, {xs: 10, sm: 0}]">
                      <div nz-col nzXs="24" nzSm="6" nzMd="6" nzLg="8" nzXl="6">
                        <a class="links"
                          ><i
                            nz-icon
                            nzType="heart"
                            [nzTheme]="data.favorite ? 'twotone' : 'outline'"
                          ></i
                          ><span>В Избранное</span></a
                        >
                      </div>
                      <div nz-col nzXs="24" nzSm="6" nzMd="6" nzLg="8" nzXl="6">
                        <a class="links">
                          <svg
                            width="17"
                            height="14"
                            viewBox="0 0 19 15"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              fill-rule="evenodd"
                              clip-rule="evenodd"
                              d="M0.999887 14.75C0.585674 14.75 0.249887 14.4142 0.249888 14L0.249888 12C0.249888 8.27208 3.27197 5.25 6.99989 5.25L15.1892 5.25L11.4696 1.53033L12.5302 0.46967L18.0605 6L12.5302 11.5303L11.4696 10.4697L15.1892 6.75L6.99989 6.75C4.10039 6.75 1.74989 9.1005 1.74989 12L1.74989 14C1.74989 14.4142 1.4141 14.75 0.999887 14.75Z"
                              fill="#22A33F"
                            />
                          </svg>
                          <span>Поделиться</span></a
                        >
                      </div>
                      <div nz-col nzXs="24" nzSm="6" nzMd="6" nzLg="8" nzXl="6">
                        <a class="links">
                          <svg
                            width="20"
                            height="18"
                            viewBox="0 0 20 18"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M19.9659 8.14222L19.3697 3.72702C19.2282 2.70399 18.7438 1.76713 18.0033 1.08424C17.2627 0.401337 16.3143 0.01698 15.328 0H4.13258C3.03737 0.00279579 1.98776 0.459961 1.21332 1.27148C0.438881 2.08301 0.00267018 3.18285 2.15907e-06 4.33051V8.74575C-0.000553894 9.3144 0.106301 9.87754 0.314402 10.4027C0.522502 10.9279 0.827682 11.4047 1.21246 11.8057C1.59272 12.2123 2.04727 12.5343 2.54899 12.7526C3.05072 12.9709 3.58934 13.081 4.13258 13.0763H6.39591L8.02267 16.5491C8.28854 17.1072 8.73672 17.5468 9.2857 17.788C9.83212 18.0378 10.4472 18.0679 11.0135 17.8727C11.5783 17.6788 12.0587 17.2801 12.368 16.7483C12.6774 16.2165 12.7954 15.5864 12.7009 14.9715L12.3977 13.0763H15.8534C16.4455 13.0763 17.0307 12.9431 17.5694 12.6855C18.108 12.4279 18.5876 12.052 18.9756 11.5833C19.3593 11.1141 19.645 10.5659 19.8143 9.97397C19.9903 9.38199 20.042 8.75711 19.9659 8.14222ZM15.9242 11.4775H11.5693C11.4586 11.4771 11.349 11.4987 11.246 11.541C11.1496 11.5988 11.0612 11.67 10.9833 11.7528C10.9131 11.8431 10.8615 11.9476 10.8317 12.0598C10.8066 12.1748 10.8066 12.2942 10.8317 12.4092L11.2762 15.2256C11.3113 15.368 11.3113 15.5174 11.2762 15.6598C11.243 15.7983 11.1771 15.9257 11.0843 16.0303C10.9815 16.1558 10.8491 16.2508 10.7003 16.3056C10.5546 16.3595 10.3991 16.3776 10.2457 16.3586C10.0949 16.3352 9.95106 16.2764 9.82507 16.1865C9.69909 16.0967 9.59415 15.9781 9.51808 15.8398L7.66905 11.9222C7.62615 11.831 7.56389 11.7513 7.48712 11.6892V1.59881H15.3887C16.0153 1.59744 16.6212 1.83355 17.0947 2.2636C17.5683 2.69364 17.8774 3.28861 17.9652 3.93876L18.5614 8.354C18.6104 8.74043 18.5828 9.13329 18.4805 9.50809C18.3787 9.89808 18.1959 10.2596 17.9451 10.5669C17.7001 10.8598 17.3989 11.0952 17.0611 11.2576C16.7233 11.42 16.3564 11.5058 15.9848 11.5092L15.9242 11.4775ZM1.53574 4.33051C1.5344 3.97278 1.60071 3.61831 1.73074 3.28754C1.86077 2.95676 2.05203 2.65624 2.29343 2.40328C2.53483 2.15032 2.82155 1.94994 3.13721 1.81368C3.45287 1.67743 3.7912 1.60801 4.13258 1.60941H5.8907V11.4775H4.13258C3.44295 11.4747 2.78247 11.1856 2.29577 10.6736C1.80907 10.1616 1.53573 9.46841 1.53574 8.74575V4.33051Z"
                              fill="#377BE1"
                            />
                          </svg>

                          <span>Пожаловаться</span></a
                        >
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div nz-col nzSpan="24">
        <div class="product__map">
          <div
            nz-row
            nzJustify="space-between"
            nzAlign="middle"
            [nzGutter]="[0, 20]"
          >
            <div nz-col nzSpan="17"></div>
            <div nz-col nzSpan="7">
              <button
                nz-button
                nzType="default"
                nzSize="large"
                (click)="mapVisible = !mapVisible"
                class="map-btn"
              >
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 19 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M5.60781 1.80128L1.75 3.73018V13.3865L5.04136 11.7408C5.3099 11.6065 5.619 11.5778 5.90768 11.6603L13.3922 13.7987L17.25 11.8698V2.21351L13.9586 3.85919C13.6901 3.99346 13.381 4.02219 13.0923 3.93971L5.60781 1.80128ZM5.04136 0.40745C5.30989 0.273184 5.619 0.244455 5.90768 0.326934L13.3922 2.46537L17.0133 0.654792C17.8112 0.255851 18.75 0.836046 18.75 1.7281V12.0552C18.75 12.5097 18.4932 12.9253 18.0867 13.1285L13.9586 15.1925C13.6901 15.3268 13.381 15.3555 13.0923 15.273L5.60781 13.1346L1.98666 14.9452C1.18877 15.3441 0.25 14.7639 0.25 13.8719V3.54477C0.25 3.09025 0.506803 2.67473 0.913344 2.47146L5.04136 0.40745Z"
                    fill="#fff"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M14.2168 3.2666V14.5999H12.7168V3.2666H14.2168Z"
                    fill="#fff"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M6.2832 1V12.3333H4.7832V1H6.2832Z"
                    fill="#fff"
                  />
                </svg>
                <span> Смотреть на карте </span>
              </button>
            </div>
            <div nz-col nzSpan="24" *ngIf="mapVisible">
              <div class="map">
                <ya-map
                  [center]="[data.location.lt, data.location.ln]"
                  [zoom]="12"
                >
                  <ya-placemark
                    [geometry]="[data.location.lt, data.location.ln]"
                  ></ya-placemark>
                </ya-map>
                <!-- [options]="{ draggable: true }"
                (yadragend)="yadragend($event)" -->

                <!-- TODO: REMOVE -->
                <!-- <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d11991.904339025807!2d69.22814145!3d41.28762495!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x38ae8a4b03ec22ab%3A0x414bc29a14aa377f!2z0JDQs9GA0L7QsdCw0L3QuiDQkNCi0JE!5e0!3m2!1sru!2s!4v1649329680251!5m2!1sru!2s"
                  width="100%"
                  height="450"
                  style="border: 0; border-radius: 4px"
                  allowfullscreen=""
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                ></iframe> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div nz-col nzSpan="24">
        <div class="description">
          <nz-tabset>
            <nz-tab nzTitle="Описание">
              <p nz-typography class="description__text">
                {{data.description}}
              </p>
            </nz-tab>
            <nz-tab nzTitle="Характеристики">
              <ul nz-row [nzGutter]="[30, 0]" class="list-items">
                <li
                  nz-col
                  nzXs="24"
                  nzSm="24"
                  nzMd="12"
                  *ngFor="let characteristic of data.characteristics_detail"
                >
                  {{characteristic.filter}}<span class="value"
                    >{{characteristic.parameter ? characteristic.parameter :
                    characteristic.value}}</span
                  >
                </li>
              </ul>
            </nz-tab>
            <!-- TODO: REMOVE -->
            <!-- <nz-tab nzTitle="Комментарии (33)">
              <div nz-row [nzGutter]="[30, 30]">
                <div nz-col nzSpan="16">
                  <div nz-row [nzGutter]="[0, 20]">
                    <div nz-col nzSpan="24">
                      <div nz-row >
                        <div nz-col nzSpan="2">
                          <div class="avatar">
                            <img src="https://lisa.ru/wp-content/uploads/2018/06/alone-beautiful-blurred-background-720598.jpg" alt="avatar">
                          </div>
                        </div>
                        <div nz-col nzSpan="22">
                          <div class="commend">
                            <div nz-row [nzGutter]="[0, 8]">
                              <div nz-col nzSpan="24">
                                <div nz-row nzAlign="middle" [nzGutter]="[16, 0]">
                                  <div nz-col><h6 nz-typography class="commend__user">Марина</h6></div>
                                  <div nz-col><nz-rate [ngModel]="0"></nz-rate></div>
                                  <div nz-col><span class="commend__date">Вчера</span></div>
                                </div>
                              </div>
                              <div nz-col nzSpan="24">
                                <p nz-typography>
                                  Современные технологии достигли такого уровня, что сложившаяся структура организации говорит о возможностях экспериментов, поражающих по своей масштабности и грандиозности. В рамках спецификации современных стандартов, сделанные на базе интернет-аналитики выводы, вне зависимости от их уровня, должны быть преданы социально-демократической анафеме.
                                </p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div nz-col nzSpan="24">
                      <div nz-row [nzGutter]="[0, 20]">
                        <div nz-col nzSpan="2">
                          <div class="avatar">
                            <img src="https://lisa.ru/wp-content/uploads/2018/06/alone-beautiful-blurred-background-720598.jpg" alt="avatar">
                          </div>
                        </div>
                        <div nz-col nzSpan="22">
                          <div class="commend">
                            <div nz-row [nzGutter]="[0, 8]">
                              <div nz-col nzSpan="24">
                                <div nz-row nzAlign="middle" [nzGutter]="[16, 0]">
                                  <div nz-col><h6 nz-typography class="commend__user">Марина</h6></div>
                                  <div nz-col><nz-rate [ngModel]="0"></nz-rate></div>
                                  <div nz-col><span class="commend__date">Вчера</span></div>
                                </div>
                              </div>
                              <div nz-col nzSpan="24">
                                <p nz-typography>
                                  Современные технологии достигли такого уровня, что сложившаяся структура организации говорит о возможностях экспериментов, поражающих по своей масштабности и грандиозности. В рамках спецификации современных стандартов, сделанные на базе интернет-аналитики выводы, вне зависимости от их уровня, должны быть преданы социально-демократической анафеме.
                                </p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div nz-col nzSpan="24">
                      <div nz-row [nzGutter]="[0, 20]">
                        <div nz-col nzSpan="2">
                          <div class="avatar">
                            <img src="https://lisa.ru/wp-content/uploads/2018/06/alone-beautiful-blurred-background-720598.jpg" alt="avatar">
                          </div>
                        </div>
                        <div nz-col nzSpan="22">
                          <div class="commend">
                            <div nz-row [nzGutter]="[0, 8]">
                              <div nz-col nzSpan="24">
                                <div nz-row nzAlign="middle" [nzGutter]="[16, 0]">
                                  <div nz-col><h6 nz-typography class="commend__user">Марина</h6></div>
                                  <div nz-col><nz-rate [ngModel]="0"></nz-rate></div>
                                  <div nz-col><span class="commend__date">Вчера</span></div>
                                </div>
                              </div>
                              <div nz-col nzSpan="24">
                                <p nz-typography>
                                  Современные технологии достигли такого уровня, что сложившаяся структура организации говорит о возможностях экспериментов, поражающих по своей масштабности и грандиозности. В рамках спецификации современных стандартов, сделанные на базе интернет-аналитики выводы, вне зависимости от их уровня, должны быть преданы социально-демократической анафеме.
                                </p>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div nz-col nzSpan="8">
                  <div class="commend__input-block">
                    <div nz-row [nzGutter]="[0, 32]">
                      <div nz-col nzSpan="24"><h4 nz-typography>Добавить комментарий</h4></div>
                      <div nz-col nzSpan="24"><nz-rate [ngModel]="0"></nz-rate></div>
                      <div nz-col nzSpan="24">
                        <textarea rows="10" nz-input [(ngModel)]="textAreaCommend"></textarea>
                      </div>
                      <div nz-col nzSpan="24"><button nz-button nzType="primary" nzBlock nzSize="large" [disabled]="!textAreaCommend">Добавить комментарий</button></div>
                    </div>
                  </div>
                </div>
                <div nz-col nzSpan="24"><a nz-button nzType="link"><span>Показать все</span><i nz-icon nzType="down" nzTheme="outline"></i></a></div>
              </div>
            </nz-tab> -->
          </nz-tabset>
        </div>
      </div>
    </div>
  </div>
  <az-similar-items></az-similar-items>
</div>

<!-- dropdown  -->

<nz-dropdown-menu #menu="nzDropdownMenu">
  <ul nz-menu nzSelectable>
    <li nz-menu-item>1st menu item</li>
    <li nz-menu-item>2nd menu item</li>
    <li nz-menu-item>3rd menu item</li>
    <li nz-menu-item nzDanger>4th danger item</li>
  </ul>
</nz-dropdown-menu>
