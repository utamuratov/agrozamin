<ng-container *ngIf="advertisement$ | async as advertisements">
  <div class="popular" *ngIf="advertisements.length > 0">
    <div class="container">
      <div nz-row [nzGutter]="[0, { xs: 20, sm: 20, md: 20, lg: 20, xl: 50 }]">
        <div nz-col nzSpan="24">
          <div nz-row nzJustify="space-between" nzAlign="middle">
            <div nz-col nzSpan="14">
              <h3 class="title">Популярные объявления</h3>
            </div>
            <div nz-col nzSpan="10" class="text-end">
              <a nz-button nzType="link" class="link" style="padding-right: 0;"
                >Смотреть все <i class="icon-link" nz-icon nzType="right" nzTheme="outline"></i
              ></a>
            </div>
          </div>
        </div>

        <div nz-col nzXs="0" nzSm="0" nzMd="0" nzLg="0" nzXl="24">
          <div nz-row [nzGutter]="[20, 20]">
            <div
              nz-col
              nzFlex="20%"
              *ngFor="let advertisement of advertisements"
            >
              <az-card [data]="advertisement"></az-card>
            </div>
          </div>
        </div>

        <!-- scroll second block -->
        <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="0">
          <div class="popular__scroll">
            <swiper
              [slidesPerView]="1.1"
              [spaceBetween]="10"
              [freeMode]="true"
              class="mySwiper"
              [breakpoints]="{
                '300': {
                  slidesPerView: 1.1,
                  spaceBetween: 15
                },
                '360': {
                  slidesPerView: 1.3,
                  spaceBetween: 15
                },
                '400': {
                  slidesPerView: 1.5,
                  spaceBetween: 15
                },
                '455': {
                  slidesPerView: 1.6,
                  spaceBetween: 15
                },
                '470': {
                  slidesPerView: 1.75,
                  spaceBetween: 15
                },
                '530': {
                  slidesPerView: 2,
                  spaceBetween: 15
                },
                '640': {
                  slidesPerView: 2.2,
                  spaceBetween: 15
                },
                '700': {
                  slidesPerView: 2.6,
                  spaceBetween: 10
                },
                '770': {
                  slidesPerView: 3,
                  spaceBetween: 15
                },
                '890': {
                  slidesPerView: 3.3,
                  spaceBetween: 15
                },
                '992': {
                  slidesPerView: 3.5
                },
                '1024': {
                  slidesPerView: 3.8,
                  spaceBetween: 20
                },
                '1100': {
                  slidesPerView: 4,
                  spaceBetween: 20
                },
                '1150': {
                  slidesPerView: 4.2,
                  spaceBetween: 20
                }
              }"
            >
            <ng-template swiperSlide *ngFor="let advertisement of advertisements">
              <div
                class="popular__scroll__card"                
                nz-row
                nzJustify="space-around"
                nzAlign="middle"
              >
                <az-card [data]="advertisement"></az-card>
              </div>
          </ng-template>
          </swiper>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
