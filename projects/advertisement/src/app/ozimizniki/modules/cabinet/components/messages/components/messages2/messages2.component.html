<div class="messages">
  <div nz-row>
    <div nz-col nzXs="0" nzSm="0" nzMd="0" nzLg="8" nzXl="8" class="messages__left">
      <div nz-row class="messages__left__content">
        <div nz-col nzSpan="24" class="messages__left__content__input">
          <nz-input-group nzSearch [nzAddOnAfter]="suffixIconButton">
            <input type="text" nz-input placeholder="Поиск объявления" />
          </nz-input-group>
          <ng-template #suffixIconButton>
            <button nz-button nzSearch><i nz-icon nzType="search"></i></button>
          </ng-template>
        </div>

        <div
          nz-col
          nzSpan="24"
          class="messages__left__content__user"
        >
          <div nz-row  >
            <div nz-col nzSpan="24" >
              <div nz-row >
                <div nz-col nzXs="4" nzSm="4" nzMd="4" nzLg="3" nzXl="2" style="padding-top: 5px;">
                  <a><i nz-icon nzType="left"></i></a>
                </div>
                <div nz-col nzXs="4" nzSm="4" nzMd="4" nzLg="5" nzXl="4">
                  <div class="messages__left__users__item__img">
                    <img src="/assets/images/kombayn1.png" alt="" />
                  </div>
                </div>
                <div nz-col nzXs="16" nzSm="16" nzMd="16" nzLg="16" nzXl="18">
                  <div nz-row>
                    <div nz-col nzSpan="24">
                      <p nz-typography nzEllipsis="">Кормоуборочный ко</p>
                    </div>
                    <div nz-col nzSpan="24">
                      <span> 4 чата </span>
                    </div>
                  </div>
                </div>
              </div>
              <nz-divider></nz-divider>
              <div nz-row *ngFor="let user of users">
                <div nz-col nzSpan="24" class="messages__left__content__user__item">
                  <div nz-row>
                    <div nz-col nzXs="4" nzSm="4" nzMd="4" nzLg="6" nzXl="4">
                      <div class="messages__left__users__item__img">
                        <img [src]="user.img" alt="" />
                      </div>
                    </div>
                    <div nz-col nzXs="16" nzSm="16" nzMd="16" nzLg="16" nzXl="16">
                      <div nz-row>
                        <div nz-col nzSpan="24">
                          <p>{{ user.title }}</p>
                        </div>
                        <div nz-col nzSpan="24">
                          <span nz-typography nzEllipsis=""> {{ user.desc }} </span>
                        </div>
                      </div>
                    </div>
                    <div nz-col nzXs="4" nzSm="4" nzMd="4" nzLg="2" nzXl="4" style="padding-top: 5px;">
                      <div nz-col>
                        <span [ngClass]="isOnline ? 'green' : 'grey'"></span
                        >
                      </div>
                    </div>
                  </div>
                </div>
          
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="16" nzXl="16" class="messages__body">
      
      <div nz-row class="messages__body__content">
       
        <div nz-col nzSpan="24" class="messages__body__content__top">
          <div nz-row>
            <div nz-col nzXs="22" nzSm="22" nzMd="22" nzLg="22" nzXl="22" class="messages__body__content__top__user">
              <div nz-row>
                <div nz-col nzSpan="24">
                  <h5>Рустам Маматов</h5>
                </div>
                <div nz-col nzSpan="24">
                  <div nz-row [nzGutter]="[20, 0]">                  
                    <div nz-col>
                      <span [ngClass]="isOnline ? 'green' : 'grey'"></span
                      ><span>{{ isOnline ? "Сейчас онлайн" : "Не в сети" }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div nz-col nzSpan="2">
              <i nz-icon  
              nz-popover              
              [nzPopoverContent]="contentTemplate"
              nzPopoverPlacement="bottomRight"
              nzPopoverTrigger="click"
              >
                <img src="/assets/images/top-button.png" alt="" />
              </i>
            </div>
          </div>
        </div>

        <div nz-col nzSpan="24" class="messages__body__content__middle">
          
            <div class="messages__body__content__middle__content">
              <div nz-row [nzGutter]="[{xs:8, sm:8, md:8, lg:8, xl:8}, 0]">
                <div nz-col>
                  <div class="messages__body__content__middle__content__img">
                    <img src="/assets/images/kombayn11.png" alt="" />
                  </div>
                </div>
                <div
                  nz-col
                  class="messages__body__content__middle__content__desc"
                >
                  <div nz-row [nzGutter]="[0, {xs:4, sm:4, md:4, lg:4, xl:4}]">
                    <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24">
                      <h4>Кормоуборочный комбайн RSM F 2650</h4>
                    </div>
                    <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="24">
                      <h3>659 875 сум</h3>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="messages__body__content__middle__item">
              
              <div  nz-row nzAlign="middle" nzJustify="center">
                <div nz-col>
                  <span>29 февраля </span>
                </div>
              </div>
              
              <div nz-row class="messages__body__content__middle__item__user">
                  <div nzSpan="24" nz-col>
                    <div nz-row [nzGutter]="[0,8]">
                      <div nz-col nzSpan="24">
                        <div class="messages__body__content__middle__item__user__message">
                          <p>Здравствуйте</p>
                        </div>
                      </div>
                      <div nz-col nzSpan="24" >
                        <div class="messages__body__content__middle__item__user__message2">
                          <p>Хотелось бы уточнить какие агрегаты идут в комплекте?</p>
                          <span>11:39</span>
                        </div>
                        
                      </div>
                    </div>
                  </div>
                  <div  nzSpan="24" nz-col>
                      <div nz-row nzAlign="middle" nzJustify="end" >
                        <div nz-col class="messages__body__content__middle__item__user__message3">
                          <div nz-row>
                            <div nz-col nzSpan="24"><p>Добрый день</p></div>
                            <div nz-col><p>11:39</p></div>
                          </div>
                        </div>
                      </div>
                  </div>
                                
              </div>
  
  
            </div>
          
        </div>

        <div nz-col nzSpan="24" class="messages__body__content__footer">
          <div>
            <nz-input-group
              nzSize="large"
              [nzSuffix]="suffixTemplateInfo"
              [nzPrefix]="prefixTemplateUser"
            >
              <input type="text" nz-input placeholder="Написать сообщение" />
            </nz-input-group>
            <ng-template #prefixTemplateUser
              ><i nz-button style="padding-left: 10px">
                <img src="/assets/images/attach.png" alt="" /></i
            ></ng-template>

            <ng-template #suffixTemplateInfo>
              <i nz-icon><img src="/assets/images/emoji.png" alt="" /></i>
              <button nz-button>
                <img src="/assets/images/send-attach.png" alt="" />
              </button>
            </ng-template>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<ng-template #contentTemplate>
  <div class="popover">
   <div nz-row [nzGutter]="[0,5]">
     <div nz-col  nzSpan="24" class="popover__content">
      <div class="popover__content__item">
        <div nz-row>
          <div nz-col nzSpan="4">
            <img src="../../../../../../../../assets/images/archive.png" alt="">
          </div>
          <div nz-col nzSpan="20">
            <p>Архивировать</p>
          </div>
        </div>
      </div>
    </div>
    <div nz-col  nzSpan="24" class="popover__content">
      <div class="popover__content__item">
        <div nz-row>
          <div nz-col nzSpan="4">
            <img src="../../../../../../../../assets/images/bookmark.png" alt="">
          </div>
          <div nz-col nzSpan="20">
            <p>Сохранить</p>
          </div>
        </div>
      </div>
    </div>
    <div nz-col  nzSpan="24" class="popover__content">
      <div class="popover__content__item">
        <div nz-row>
          <div nz-col nzSpan="4">
            <img src="../../../../../../../../assets/images/block.png" alt="">
          </div>
          <div nz-col nzSpan="20">
            <p>Заблокировать</p>
          </div>
        </div>
      </div>
    </div>
    <div nz-col  nzSpan="24" class="popover__content">
      <div class="popover__content__item">
        <div nz-row>
          <div nz-col nzSpan="4">
            <img src="../../../../../../../../assets/images/unlock.png" alt="">
          </div>
          <div nz-col nzSpan="20">
            <p>Разблокировать</p>
          </div>
        </div>
      </div>
    </div>
   </div>
  </div>
</ng-template>