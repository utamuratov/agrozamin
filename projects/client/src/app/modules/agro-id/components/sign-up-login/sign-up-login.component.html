<h2 nz-typography class="form__title agro-id-form-title">{{'registration' | translate}}</h2>
<p nz-typography class="font-agro-medium" style="margin-top: 5px">
  {{'haveAnAccount' | translate}} <a routerLink="../">{{'toComeIn' | translate}}</a>
</p>
<nz-divider class="divider-custom-top"></nz-divider>
<form
  nz-form
  class="form registration"
  [nzAutoTips]="autoTips"
  nzLayout="vertical"
  [formGroup]="validateForm"
  (ngSubmit)="submitForm()"
>
  <div>
    <div nz-row nzGutter="16">
      <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="12" nzXl="12">
        <nz-form-item>
          <nz-form-label class="font-agro-medium">{{'firstName' | translate}}</nz-form-label>
          <nz-form-control [nzErrorTip]="'fillTheInput' | translate">
            <input
              class="form__inputGroup"
              nz-input
              type="text"
              formControlName="firstName"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="12" nzXl="12">
        <nz-form-item>
          <nz-form-label class="font-agro-medium">{{'lastName' | translate}}</nz-form-label>
          <nz-form-control [nzErrorTip]="'fillTheInput' | translate">
            <input
              class="form__inputGroup"
              nz-input
              type="text"
              formControlName="lastName"
              nzSize="large"
            />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <ng-template #phone>
      <nz-form-item>
        <nz-form-label class="font-agro-medium" nzFor="email" [nzSpan]="24"
          >{{'putEmailToReg' | translate}}</nz-form-label
        >
        <nz-form-control [nzSpan]="24" [nzErrorTip]="'invalidEmailMessage' | translate">
          <input
            nz-input
            formControlName="email"
            id="email"
            [placeholder]="'emailRegPlaceholder' | translate"
            nzSize="large"
          />
        </nz-form-control>
      </nz-form-item>
    </ng-template>
    <div *ngIf="toggle; else phone">
      <nz-form-item>
        <nz-form-label class="font-agro-medium" nzFor="phoneNumber" [nzSpan]="24"
          >{{'regPhoneLabel' | translate}}</nz-form-label
        >
        <nz-form-control
          [nzSpan]="24"
          [nzValidateStatus]="validateForm.controls['phoneNumber']"
          [nzErrorTip]="'invalidPhoneMessage' | translate"
        >
          <input
            formControlName="phoneNumber"
            id="'phoneNumber'"
            [placeholder]="'putPhoneToReg' | translate"
            nzSize="large"
            nz-input
          />
        </nz-form-control>
      </nz-form-item>
    </div>
    <a class="font-agro-medium" style="padding: 4px 0" nzType="link" (click)="toggleInfo()">{{
      buttonTxt ? ('haveNotPhone' | translate) : ('haveNotEmail' | translate)
    }}</a>
    <nz-divider class="divider-custom-top"></nz-divider>
    <div nz-row nzGutter="16">
      <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="12" nzXl="12">
        <nz-form-item>
          <nz-form-label class="font-agro-medium">{{'createPassword' | translate}}</nz-form-label>
          <nz-form-control
            nzDisableAutoTips
            nzHasFeedback
            [nzErrorTip]="'errorTipToCreatePassword' | translate"
          >
            <input
              class="form__inputGroup"
              nz-input
              type="password"
              [(ngModel)]="password"
              formControlName="password"
              nzSize="large"
              (ngModelChange)="validateConfirmPassword()"
            />
          </nz-form-control>
        </nz-form-item>
      </div>
      <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="12" nzXl="12">
        <nz-form-item>
          <nz-form-label class="font-agro-medium">{{'repeatPassword' | translate}}</nz-form-label>
          <nz-form-control
            nzDisableAutoTips
            nzHasFeedback
            [nzErrorTip]="passwordErrorTpl"
          >
            <input
              nz-input
              type="password"
              formControlName="confirm"
              nzSize="large"
            />
            <ng-template #passwordErrorTpl let-control>
              <ng-container *ngIf="control.hasError('required')"
                >{{'confirmPassword' | translate}}</ng-container
              >
              <ng-container *ngIf="control.hasError('confirm')"
                >{{'mismatchPassword' | translate}}</ng-container
              >
            </ng-template>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>
    <nz-form-item nz-row class="register-area">
      <nz-form-control [nzSpan]="24">
        <label class="font-agro-medium" nz-checkbox formControlName="agree">
          <span>{{'agree' | translate}}</span>
        </label>
        <a style="font-size: 16px">{{'termsOfUse' | translate}}</a>
      </nz-form-control>
    </nz-form-item>
    <div nz-row>
      <div nz-col nzXs="24" nzSm="24" nzMd="24" nzLg="24" nzXl="12">
        <button
        [disabled]="!validateForm.controls['agree'].valid"
        nzBlock
        nz-button
        nzType="primary"
        class="font-agro-medium"
        (click)="nextComponent()"
      >
        {{'continue' | translate}}
        </button>
      </div>
      
    </div>
  </div>
</form>
