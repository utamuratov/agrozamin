<!-- <button nz-button nzType="primary" routerLink="agro-id">Agro Id</button>
<button nz-button nzType="primary" routerLink="market">Market</button>
<button nz-button nzType="primary" routerLink="online-consultant">Online consultant</button> -->

<div class="header">
  <nav class="nav">
    <div class="container">
      <div nz-row>

        <div nz-col nzSpan="24" class="nav__top">
          <div nz-row nzAlign="middle">
            <div nz-col nzSpan="12">
              <ul class="nav__menu" nz-row>
                <li nz-col class="nav__menu-item"><a>О проекте</a></li>
                <li nz-col class="nav__menu-item"><a>Помощь</a></li>
                <li nz-col class="nav__menu-item">
                  <span class="link-divider"></span>
                </li>
                <li nz-col class="nav__menu-item">
                  <a>Банковские продукты</a>
                </li>
                <li nz-col class="nav__menu-item"><a>Онлайн консультант</a></li>
              </ul>
            </div>
            <div nz-col nzSpan="9">
              <div nz-row nzAlign="middle" [nzGutter]="[24, 0]" nzJustify="end">
                <div nz-col class="nav__currency text-end">
                  <i class="red" nz-icon nzType="fall" nzTheme="outline"></i>
                  <span nz-typography>USD 10 677.66</span>
                </div>
                <div nz-col class="nav__weather">
                  <img
                    width="20"
                    src="../../../assets/images/agrozamin/sun-svg.svg"
                    alt="weather-icon"
                  />
                  <span nz-typography>27 °C</span>
                </div>
              </div>
            </div>
            <div nz-col nzSpan="3" class="ml-a">
              <div nz-row>
                <div nz-col nzSpan="24" class="text-end">
                  <span nz-typography class="select-desc">Язык:</span>
                  <nz-select
                    ngModel="1"
                    nzBorderless
                    class="nav__select"
                    style="padding-right: 0"
                  >
                    <nz-option nzValue="1" nzLabel="Русский"></nz-option>
                    <nz-option nzValue="2" nzLabel="Узбекча"></nz-option>
                    <nz-option nzValue="3" nzLabel="O'zbekcha"></nz-option>
                    <nz-option nzValue="4" nzLabel="English"></nz-option>
                  </nz-select>
                </div>
              </div>
            </div>
          </div>          
        </div>

        <div nz-col nzSpan="24" class="nav__middle">
          <div nz-row nzAlign="middle" nzJustify="end">
            <div nz-col nzSpan="12">
              <img src="./assets/images/agrozamin/logo.svg" alt="logo" />
            </div>
            <div nz-col [nzSpan]="isAuth ? 7 : 9">
              <div nz-row [nzGutter]="[24, 0]" nzJustify="end">
                <div nz-col class="nav__contacts">
                  <a href="tel:998781500088"
                    ><img
                      src="../../../assets/images/agrozamin/phone-icon.svg"
                      alt="icon"
                    /><span nz-typography>(78) 150–00–88</span></a
                  >
                </div>
                <div nz-col class="nav__contacts">
                  <a
                    ><img
                      src="./assets/images/agrozamin/chat-icon.svg"
                      alt="icon"
                    /><span nz-typography>On-line чат</span></a
                  >
                </div>
              </div>
            </div>
            <div nz-col [nzSpan]="isAuth ? 5 : 3">
              <div nz-row [nzGutter]="[8, 0]" nzJustify="end">
                <div nz-col *ngIf="isAuth">
                  <button nz-button nzType="default" nzSize="large">
                    <i nz-icon nzType="heart" nzTheme="outline"></i>
                  </button>
                </div>
                <div nz-col>
                  <button
                    nz-button 
                    nzType="default" 
                    nzSize="large"
                    nz-button
                    nz-popover
                    [(nzPopoverVisible)]="visibleServicesPopover"
                    (nzPopoverVisibleChange)="change($event)"
                    nzPopoverTrigger="click"
                    [nzPopoverContent]="servicesPopover"
                    nzPopoverPlacement="leftBottom"
                   >
                    <i
                      ><img
                        src="../../../assets/images/agrozamin/services-icon.svg"
                        alt="icon"
                    /></i>
                  </button>
                </div>
                <div nz-col>
                  <button nz-button nzType="default" nzSize="large" (click)="isAuth = !isAuth">
                    <i nz-icon nzType="user" nzTheme="outline"></i>
                    {{isAuth ? 'Профиль' : 'Войти'}}
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <!-- <nz-divider style="margin: 19px 0 16px 0"></nz-divider>
    <div class="container">
      <div nz-row class="nav__bottom" [nzGutter]="[16, 0]">
        <div nz-col>
          <button nz-button nzType="primary" nzSize="large" (click)="open()">
            <i
              ><img
                src="../../../assets/images/agrozamin/catalog.svg"
                alt="icon"
            /></i>
            <span class="nav__bottom-btn-text">Каталог</span>
          </button>
        </div>
        <div nz-col nzFlex="auto">
            <form nz-form [formGroup]="searchForm" (ngSubmit)="submit()">
                <nz-input-group
                nzSize="large"
                nzCompact
                nzSearch
                [nzAddOnAfter]="suffixIconButton"
              >
                <input
                  type="text"
                  nz-input
                  nzSize="large"
                  style="width: 70%"
                  placeholder="Найти среди 273 000 обьявлений"
                  formControlName="searchInput"
                  (click)="openSearchDrop()"
                />
                <nz-input-group
                  style="width: 30%"
                  nzSize="large"
                  [nzSuffix]="arrowIcon"
                  [nzPrefix]="locationIcon"
                >
                  <input
                    type="text"
                    nz-input
                    nzSize="large"
                    placeholder="Весь Узбекистан"
                    (click)="touched = true"
                    formControlName="cityInput"
                    (click)="openFilterDrop()"
                  />
                </nz-input-group>
              </nz-input-group>
    
              <ng-template #locationIcon
                ><i
                  nz-icon
                  nzType="environment"
                  nzTheme="outline"
                  [ngStyle]="{ color: touched ? '#1A1A1A' : '#999999' }"
                ></i
              ></ng-template>
    
              <ng-template #arrowIcon>
                <i
                  nz-icon
                  nzType="down"
                  nzTheme="outline"
                  [ngStyle]="{ color: touched ? '#1A1A1A' : '#999999' }"
                ></i>
              </ng-template>
    
              <ng-template #suffixIconButton>
                <button nz-button nzType="primary" nzSearch nzSize="large" (click)="searchDropDown = false; searchCityDropDown = false">
                  <i nz-icon nzType="search"></i>
                </button>
              </ng-template>
    
              <ng-template #arrowTemplate>
                <i nz-icon nzType="down" nzTheme="outline"></i>
              </ng-template>
            </form>
          
        </div>
        <div nz-col>
          <button nz-button nzType="primary" nzSize="large">
            <i nz-icon nzType="plus-circle" nzTheme="outline"></i>
            <span>Подать объявление</span>
          </button>
        </div>
      </div>
    </div> -->
  </nav>
  
 <!--  <div class="header__search-dropdown" *ngIf="searchDropDown">
      <div class="drop-top">
        <div class="container">
            <div class="header__dropdown">
              <div nz-row [nzGutter]="[0, 30]">
  
                  <div nz-col nzSpan="24" *ngFor="let param of searchParamas">
                      <div nz-row [nzGutter]="[30, 0]">
                          <div nz-col nzSpan="3">
                              <p nz-typography class="text-end search__type">{{param.type}}</p>
                          </div>
                          <div nz-col nzSpan="21">
                              <div nz-row>
                                  <div nz-col nzSpan="24" *ngFor="let value of param.values">
                                      <a class="search__values">{{value.name}}</a>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>                
              </div>
            </div>
        </div>
      </div>
      <div class="backdrop"></div>
  </div>


  <div class="header__search-dropdown" *ngIf="searchCityDropDown">
      <div class="drop-top">
        <div class="container">
            <div class="header__dropdown">
              <div nz-row [nzGutter]="[0, 30]">
                  <div nz-col nzSpan="12">
                      <input nz-input type="text" placeholder="Поиск по названию" nzSize="large" [(ngModel)]="search">                        
                  </div>            
                  <div nz-col nzSpan="24">
                    <div nz-row [nzGutter]="[30, 0]">

                      <div nz-col nzSpan="6" class="regions_border">
                          <div nz-row [nzGutter]="[0, 16]">
                                <div nz-col nzSpan="24" *ngFor="let region of regions | filter: search">
                                  <a class="region" (mouseenter)="getCities(region.id)">{{region.name}}</a>
                                </div>
                            </div>
                      </div>

                      <div nz-col nzSpan="18" *ngIf="search.length < 1">
                        <div nz-row [nzGutter]="[0, 16]">
                          <div nz-col nzSpan="8" *ngFor="let city of regionsChild | filter: search">
                            <a class="city">{{city.name}}</a>
                          </div>
                        </div>
                      </div>

                      <div nz-col nzSpan="18" *ngIf="search.length > 0">
                        <div nz-row [nzGutter]="[0, 16]">
                          <div nz-col nzSpan="8" *ngFor="let city of regionsChild | filter: search">
                            <a class="city">{{city.name}}</a>
                          </div>
                        </div>
                      </div>
                      
                    </div>
                  </div>            
              </div>
            </div>
        </div>
      </div>
      <div class="backdrop"></div>
  </div> -->

</div>

<!-- DRAWER -->
<!-- <nz-drawer
  [nzClosable]="false"
  [nzVisible]="visible"
  nzPlacement="left"
  (nzOnClose)="close()"
  [nzWidth]="calcDrawerWidth()"
>
  <ng-container *nzDrawerContent>
    <div class="drawer-block">
      <div nz-row class="drawer">
        <div nz-col class="menu" nzFlex="280px">
          <h4 class="menu__title">Каталог товаров</h4>
          <ul class="menu__list">
            <li
              class="menu__item"
              *ngFor="let category of categories"
              (mouseenter)="getChild(category.id)"
            >
              <a
                class="menu__link"
                (mouseenter)="openSubmenu(category.id)"
                [ngClass]="activeLink === category.id ? 'active' : ''"
              >
                <img width="30" height="25" [src]="category.icon" alt="icon" />
                <span class="menu__link-text">{{ category.name }}</span>
                <i nz-icon nzType="right" nzTheme="outline"></i>
              </a>
            </li>
          </ul>
        </div>
        <div class="submenu" *ngIf="isOpened" nz-col nzFlex="auto">
          <div nz-row [nzGutter]="[10, 0]">
            <div nz-col nzSpan="18">
              <div nz-row [nzGutter]="[20, 20]">
                <div
                  nz-col
                  nzSpan="8"
                  *ngFor="let subcategory of categoryChilds"
                >
                  <ul>
                    <li>
                      <a class="submenu__title" href="">{{
                        subcategory.name
                      }}</a>
                      <ul class="submenu__list">
                        <li
                          class="submenu__item"
                          *ngFor="let child of subcategory.categories"
                        >
                          <a href="" class="submenu__link"
                            ><span>{{ child.name }}</span></a
                          >
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div nz-col nzSpan="6">
              <div nz-row [nzGutter]="[0, 30]">
                <div nz-col nzSpan="24">
                  <div class="adv">
                    <a
                      ><img
                        src="../../../assets/images/agrozamin/drawer-adv-1.jpg"
                        alt="adv"
                    /></a>
                  </div>
                </div>
                <div nz-col nzSpan="24">
                  <div class="adv">
                    <a
                      ><img
                        src="../../../assets/images/agrozamin/drawer-adv-2.jpg"
                        alt="adv"
                    /></a>
                  </div>
                </div>
              </div>
              
              
            </div>
          </div>
        </div>
        <div
          [ngClass]="isOpened ? 'close-btn-right' : 'close-btn'"
          nz-col
          nzFlex="20px"
        >
          <button
            nz-button
            nzType="default"
            nzGhost
            nzShape="circle"
            nzSize="large"
            (click)="close()"
          >
            <i nz-icon nzType="close" nzTheme="outline"></i>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
</nz-drawer>
 -->
<!-- SERVICES POPUP -->
  <ng-template #servicesPopover>
      <a (click)="clickMe()">Close</a>
  </ng-template>
